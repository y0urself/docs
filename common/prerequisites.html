
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Prerequisites &#8212; Greenbone Documentation  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.gif"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="prerequisites">
<h1>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please follow the guide step by step. Later steps might require settings or
output of a previous command.</p>
</div>
<section id="creating-a-user-and-a-group">
<h2>Creating a User and a Group<a class="headerlink" href="#creating-a-user-and-a-group" title="Permalink to this headline">¶</a></h2>
<p>The services provided by the GVM framework should run as a dedicated user and
group. Therefore a <cite>gvm</cite> user and a group with the same name will be created.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Creating a gvm system user and group</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">useradd</span> <span class="o">-</span><span class="n">r</span> <span class="o">-</span><span class="n">M</span> <span class="o">-</span><span class="n">U</span> <span class="o">-</span><span class="n">G</span> <span class="n">sudo</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">nologin</span> <span class="n">gvm</span>
</pre></div>
</div>
</div>
</section>
<section id="adjusting-the-current-user">
<h2>Adjusting the Current User<a class="headerlink" href="#adjusting-the-current-user" title="Permalink to this headline">¶</a></h2>
<p>To allow the current user to run <em>gvmd</em> he must be added to the <em>gvm</em> group.
To make the group change effective either logout and login again or use
<strong class="command">su</strong>.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Add current user to gvm group</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sudo usermod -aG gvm $USER

su $USER
</pre></div>
</div>
</div>
</section>
<section id="setting-the-path">
<h2>Setting the PATH<a class="headerlink" href="#setting-the-path" title="Permalink to this headline">¶</a></h2>
<p>On Debian systems the locations <code class="file docutils literal notranslate"><span class="pre">/sbin</span></code>, <code class="file docutils literal notranslate"><span class="pre">/usr/sbin</span></code> and
<code class="file docutils literal notranslate"><span class="pre">/usr/local/sbin</span></code> are not in the <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code> of normal users. To run
<em>gvmd</em> which is located in <code class="file docutils literal notranslate"><span class="pre">/usr/local/sbin</span></code> the <span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code>
environment variable should be adjusted.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Adjusting PATH for running gvmd</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PATH=$PATH:/usr/local/sbin
</pre></div>
</div>
</div>
</section>
<section id="choosing-an-install-prefix">
<h2>Choosing an Install Prefix<a class="headerlink" href="#choosing-an-install-prefix" title="Permalink to this headline">¶</a></h2>
<p>Before building the software stack, a (root) directory must be chosen where
the built software will finally be installed. For example, when building packages,
the distribution developers set this path to <cite>/usr</cite>.</p>
<p>By default, it is <code class="file docutils literal notranslate"><span class="pre">/usr/local</span></code> which is also used in this guide. This
directory will be stored in an environment variable <span class="target" id="index-2"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">INSTALL_PREFIX</span></code>
to be able to reference it later.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Setting an install prefix environment variable</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">INSTALL_PREFIX</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span>
</pre></div>
</div>
</div>
</section>
<section id="creating-a-source-build-and-install-directory">
<h2>Creating a Source, Build and Install Directory<a class="headerlink" href="#creating-a-source-build-and-install-directory" title="Permalink to this headline">¶</a></h2>
<p>To separate the sources and the build artifacts, a source and a build directory
must be created.</p>
<p>This source directory will be used later in this guide via
an environment variable <span class="target" id="index-3"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">SOURCE_DIR</span></code>. Accordingly, a variable
<span class="target" id="index-4"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BUILD_DIR</span></code> will be set for the build directory. Both can be set to any
directory to which the current user has write permissions. Therefore
directories in the current user’s home directory are chosen in this guide.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Choosing a source directory</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export SOURCE_DIR=$HOME/source
mkdir -p $SOURCE_DIR
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Choosing a build directory</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export BUILD_DIR=$HOME/build
mkdir -p $BUILD_DIR
</pre></div>
</div>
</div>
<p>Additionally, an install directory will be set as an environment variable
<span class="target" id="index-5"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">INSTALL_DIR</span></code>. It is used as a temporary installation directory
before moving all built artifacts to the final destination.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Choosing a temporary install directory</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export INSTALL_DIR=$HOME/install
mkdir -p $INSTALL_DIR
</pre></div>
</div>
</div>
</section>
<section id="choosing-the-installation-source">
<h2>Choosing the Installation Source<a class="headerlink" href="#choosing-the-installation-source" title="Permalink to this headline">¶</a></h2>
<p>For building the GVM software stack, three different sources can be chosen
depending on the desired stability:</p>
<ul class="simple">
<li><p>Building from release <a class="reference external" href="https://en.wikipedia.org/wiki/Tar_(computing)">tarballs</a></p></li>
<li><p>Building from git tags</p></li>
<li><p>Building from release branches</p></li>
</ul>
<p>Linux distributions use the release <a class="reference external" href="https://en.wikipedia.org/wiki/Tar_(computing)">tarballs</a> because it is the most common
and well known method to share source code.</p>
<p>Newer build systems may stick with the git tags.</p>
<p>If you are a developer and very familiar with building from source already, you
may also try out using the git release branches. These have the
advantage that they contain the newest fixes which may not yet be included in the
release tarballs or git tags. As a downside, the release branches may
contain only partially fixed issues and need to be updated more often.</p>
<p>This guide will use the tarballs to build the software.</p>
</section>
<section id="installing-common-build-dependencies">
<h2>Installing Common Build Dependencies<a class="headerlink" href="#installing-common-build-dependencies" title="Permalink to this headline">¶</a></h2>
<p>For downloading, configuring, building and installing the <a class="reference internal" href="../glossary.html#term-GVM"><span class="xref std std-term">GVM</span></a> components,
several tools and applications are required. To install this requirements via
<em>apt</em>, the following command can be used:</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">Installing common build dependencies</span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">install</span><span class="o">-</span><span class="n">recommends</span> <span class="o">--</span><span class="n">assume</span><span class="o">-</span><span class="n">yes</span> \
  <span class="n">build</span><span class="o">-</span><span class="n">essential</span> \
  <span class="n">curl</span> \
  <span class="n">cmake</span> \
  <span class="n">pkg</span><span class="o">-</span><span class="n">config</span> \
  <span class="n">python3</span> \
  <span class="n">python3</span><span class="o">-</span><span class="n">pip</span> \
  <span class="n">gnupg</span>
</pre></div>
</div>
</div>
</section>
<section id="importing-the-greenbone-signing-key">
<h2>Importing the Greenbone Signing Key<a class="headerlink" href="#importing-the-greenbone-signing-key" title="Permalink to this headline">¶</a></h2>
<p>To validate the integrity of the downloaded source files,
<a class="reference external" href="https://www.gnu.org/">GnuPG</a> is used. It requires downloading the
Greenbone Community Signing public key and importing it into the current user’s
keychain.</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">Importing the Greenbone Community Signing key</span><a class="headerlink" href="#id9" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">O</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">greenbone</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">GBCommunitySigningKey</span><span class="o">.</span><span class="n">asc</span>
<span class="n">gpg</span> <span class="o">--</span><span class="kn">import</span> <span class="nn">GBCommunitySigningKey.asc</span>
</pre></div>
</div>
</div>
<p>For understanding the validation output of the gpg tool, it is best to mark the
Greenbone Community Signing key as fully trusted.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">Setting the trust level for the Greenbone Community Signing key</span><a class="headerlink" href="#id10" title="Permalink to this code">¶</a></div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gpg --edit-key 9823FAA60ED1E580

pub  rsa4096/9823FAA60ED1E580
   created: 2017-09-06  expires: never       usage: SC
   trust: unknown       validity: unknown
[ unknown] (1). Greenbone Community Feed integrity key

gpg&gt; trust

pub  rsa4096/9823FAA60ED1E580
   created: 2017-09-06  expires: never       usage: SC
   trust: unknown       validity: unknown
[ unknown] (1). Greenbone Community Feed integrity key

Please decide how far you trust this user to correctly verify other users&#39; keys
(by looking at passports, checking fingerprints from different sources, etc.)

  1 = I don&#39;t know or won&#39;t say
  2 = I do NOT trust
  3 = I trust marginally
  4 = I trust fully
  5 = I trust ultimately
  m = back to the main menu

Your decision? 5
Do you really want to set this key to ultimate trust? (y/N) y

pub  rsa4096/9823FAA60ED1E580
   created: 2017-09-06  expires: never       usage: SC
   trust: ultimate      validity: ultimate
[ultimate] (1). Greenbone Community Feed integrity key

gpg&gt; quit
</pre></div>
</div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../index.html">
    <img
      class="logo"
      src="../_static/logo.svg"
      alt="Greenbone Logo"
    />
    <h1 class="logo logo-name">Greenbone Documentation</h1>
  </a>
</p>
<p class="description">
  Documentation for the Greenbone Source Edition
</p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Prerequisites</a><ul>
<li><a class="reference internal" href="#creating-a-user-and-a-group">Creating a User and a Group</a></li>
<li><a class="reference internal" href="#adjusting-the-current-user">Adjusting the Current User</a></li>
<li><a class="reference internal" href="#setting-the-path">Setting the PATH</a></li>
<li><a class="reference internal" href="#choosing-an-install-prefix">Choosing an Install Prefix</a></li>
<li><a class="reference internal" href="#creating-a-source-build-and-install-directory">Creating a Source, Build and Install Directory</a></li>
<li><a class="reference internal" href="#choosing-the-installation-source">Choosing the Installation Source</a></li>
<li><a class="reference internal" href="#installing-common-build-dependencies">Installing Common Build Dependencies</a></li>
<li><a class="reference internal" href="#importing-the-greenbone-signing-key">Importing the Greenbone Signing Key</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Greenbone Networks.
      
      |
      <a href="../_sources/common/prerequisites.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/greenbone/docs" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>